{"version":3,"file":"MoveContainer.js","names":["React","_interopRequireWildcard","require","_TemplateContainer","_interopRequireDefault","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_callSuper","o","_getPrototypeOf2","_possibleConstructorReturn2","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","valueOf","MoveContainer","exports","_React$Component","_inherits2","_this","_classCallCheck2","_len","arguments","length","args","Array","_key","concat","_defineProperty2","_assertThisInitialized2","createRef","props","makeDragHandleProps","y","_createClass2","key","value","getDOMNode","_el","current","getTemplate","_templateContainer","shouldComponentUpdate","nextProps","anySelected","itemSelected","item","template","height","zIndex","commonProps","render","_this$props","padding","createElement","ref","style","position","boxSizing","left","right","top","marginBottom","drag","natural","dragHandleProps","_dragHandleProps","Component","module","default"],"sources":["../../src/MoveContainer.tsx"],"sourcesContent":["import * as React from 'react';\nimport TemplateContainer from './TemplateContainer';\n\nexport interface HeightData {\n  natural: number;\n  drag: number;\n}\n\ninterface Props<I, C, T> {\n  item: I;\n  template: new (props: any, context?: any) => T;\n  padding: number;\n  y: number | undefined;\n  itemSelected: number;\n  anySelected: number;\n  height: HeightData;\n  zIndex: React.CSSProperties['zIndex'];\n  makeDragHandleProps: (getY: () => number | undefined) => object;\n  commonProps: C;\n}\n\nexport default class MoveContainer<\n  I,\n  C,\n  T extends React.Component<any, any>\n> extends React.Component<Props<I, C, T>> {\n  private readonly _templateContainer =\n    React.createRef<TemplateContainer<I, C, T>>();\n  private readonly _el = React.createRef<HTMLDivElement>();\n\n  getDOMNode(): HTMLElement {\n    return this._el.current!;\n  }\n\n  getTemplate(): T {\n    return this._templateContainer.current!.getTemplate();\n  }\n\n  shouldComponentUpdate(nextProps: Props<I, C, T>): boolean {\n    return (\n      this.props.anySelected !== nextProps.anySelected ||\n      this.props.itemSelected !== nextProps.itemSelected ||\n      this.props.item !== nextProps.item ||\n      this.props.template !== nextProps.template ||\n      this.props.y !== nextProps.y ||\n      this.props.height !== nextProps.height ||\n      this.props.zIndex !== nextProps.zIndex ||\n      this.props.commonProps !== nextProps.commonProps\n    );\n  }\n\n  private _dragHandleProps = this.props.makeDragHandleProps(() => this.props.y);\n\n  render() {\n    const {\n      item,\n      y,\n      padding,\n      itemSelected,\n      anySelected,\n      height,\n      zIndex,\n      template,\n      commonProps,\n    } = this.props;\n\n    return (\n      <div\n        ref={this._el}\n        style={{\n          position: y == null ? ('relative' as const) : ('absolute' as const),\n          boxSizing: 'border-box' as const,\n          left: '0px',\n          right: '0px',\n          top: y == null ? '0px' : `${y}px`,\n          marginBottom: `${padding}px`,\n          height:\n            y == null\n              ? 'auto'\n              : `${\n                  anySelected * (height.drag - height.natural) + height.natural\n                }px`,\n          zIndex,\n        }}\n      >\n        <TemplateContainer\n          ref={this._templateContainer}\n          item={item}\n          template={template}\n          itemSelected={itemSelected}\n          anySelected={anySelected}\n          dragHandleProps={this._dragHandleProps}\n          commonProps={commonProps}\n        />\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}