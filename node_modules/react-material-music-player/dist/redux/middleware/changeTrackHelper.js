"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _types = require("../types.js");
const changeTrackHelper = store => {
  return next => action => {
    let state = store.getState();

    // chack index out of bound
    if (action.type === _types.ActionTypes.CHANGE_TRACK && (action.payload.index >= state.playlist.length || action.payload.index < 0)) {
      // set to 0 if repeat all
      if (state.repeatMode === _types.RepeatMode.REPEAT_ALL) action.payload.index = 0;else return; // else stop the action
    }

    return next(action);
  };
};
var _default = exports.default = changeTrackHelper;